# Intelligent Link Vault

A modular Django-based URL shortener with a full REST API, automatic title scraping, and per-user click tracking.

## Features
- **Modular Apps**: Separate logic for `accounts` and `links`.
- **Auto-Metadata**: Title scraping via BeautifulSoup4.
- **Mobile Ready**: Token-based Authentication for React Native/API clients.
- **Race-Condition Safe**: Atomic click tracking using Django `F()` expressions.

## Tech Stack
- **Framework**: Django 6.x & Django REST Framework
- **Libraries**: Requests, BS4, DRF-Authtoken
- **Database**: SQLite

## API Endpoints
| Interface | Feature | URL Path | Pattern Name | View/Method |
| :--- | :--- | :--- | :--- | :--- |
| **Public** | **Redirect Link** | `/go/<short_code>/` | `link-redirect` | `LinkRedirectView` (GET) |
| **Web** | **Register** | `/accounts/register/` | `register` | `register_view` (GET/POST) |
| **Web** | **Login** | `/accounts/login/` | `login` | `LoginView` (GET/POST) |
| **Web** | **Vault List** | `/` | `link-list` | `LinkListView` (GET) |
| **Web** | **Create Link** | `/create/` | `link-create` | `LinkCreateView` (POST) |
| **Web** | **Logout** | `/accounts/logout/` | `logout` | `LogoutView` (POST) |
| **API** | **Register** | `/api/accounts/register/` | `api-register` | `RegisterAPIView` (POST) |
| **API** | **Login (Get Token)**| `/api/accounts/login/` | `api-login` | `obtain_auth_token` (POST) |
| **API** | **Current User** | `/api/accounts/me/` | `api-me` | `CurrentUserAPIView` (GET) |
| **API** | **List Vault** | `/api/links/vault/` | `link-vault-list` | `LinkViewSet` (GET) |
| **API** | **Add Link** | `/api/links/vault/` | `link-vault-list` | `LinkViewSet` (POST) |
| **API** | **Link Detail** | `/api/links/vault/<short_code>/` | `link-vault-detail` | `LinkViewSet` (GET) |
| **API** | **Delete Link** | `/api/links/vault/<short_code>/` | `link-vault-detail` | `LinkViewSet` (DELETE) |

## Developer Notes

### 1. Authentication
- **Web:** Uses standard Django Session Cookies.
- **API:** Requires a Header: `Authorization: Token <your_key_here>`.

### 2. URL Parameters
- `<short_code>`: The 8-character unique slug generated by the Link model (e.g., `f98182f2`).

### 3. Base API URL
All API requests should be prefixed with your server address:  
`http://127.0.0.1:8000/api/`

## Quick Start
1. **Install Dependencies**: `pip install -r requirements.txt`
2. **Database Setup**: `python manage.py migrate`
3. **Run Server**: `python manage.py runserver`

## Testing & Validation
The project includes a comprehensive test suite (Unit & Integration) covering authentication, privacy isolation, and scraping logic.
```powershell
# Run the integrated test suite
python manage.py test
```

---